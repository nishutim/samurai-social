"use strict";(self.webpackChunksamurai_social=self.webpackChunksamurai_social||[]).push([[239],{3239:function(n,e,t){t.r(e),t.d(e,{default:function(){return Mn}});var r,o,s,i,a,l,c,u,d,p,x,f,h,m,b,j,g,Z,v,k,y,w,C,P,S=t(2791),A=t(2066),F=t(8120),O=t(168),T=t(6444),z=T.ZP.div(r||(r=(0,O.Z)(["\n   display: flex;\n   flex-direction: column;\n"]))),E=t(9785),J=T.ZP.div(o||(o=(0,O.Z)(["\n   border: 1px solid ",";\n   border-radius: 5px;\n   align-self: flex-start;\n   display: flex;\n   flex-direction: column;\n\n   &:not(:last-child) {\n      margin-bottom: 40px;\n   }\n"])),(function(n){return n.theme.colors.$lightGray})),M=(0,T.ZP)(E.qE)(s||(s=(0,O.Z)(["\n   height: 300px;\n   width: 260px;\n   border-bottom: 1px solid ",";\n   border-radius: 5px;\n   border-bottom-left-radius: 0;\n   border-bottom-right-radius: 0;\n\n   img {\n      border-radius: 5px;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n   }\n"])),(function(n){return n.theme.colors.$lightGray})),N=T.ZP.label(i||(i=(0,O.Z)(["\n   padding: 5px 15px;\n   border-radius: 5px;\n   border-top-left-radius: 0;\n   border-top-right-radius: 0;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n   background-color: #E89F71;\n   font-size: 18px;\n   color: white;\n   transition: all 0.3s ease;\n\n   &:hover {\n      background-color: #c48864;\n   }\n\n   input {\n      display: none;\n   }\n"]))),D=t(4615),$=t(8660),B=t(9251),L=t(184),G=S.memo((function(n){var e=n.photo,t=n.isOwner,r=e||D,o=(0,$.T)();return(0,L.jsxs)(J,{children:[(0,L.jsx)(M,{children:(0,L.jsx)("img",{src:r,alt:"Profile Avatar"})}),t&&(0,L.jsxs)(N,{children:["Upload new photo",(0,L.jsx)("input",{type:"file",onChange:function(n){var e=n.target.files&&n.target.files[0];e&&o((0,B.tU)(e))}})]})]})})),U=t(4165),I=t(5861),R=t(885),V=T.ZP.div(a||(a=(0,O.Z)(["\n   display: flex;\n   flex-direction: column;\n"]))),_=T.ZP.div(l||(l=(0,O.Z)(["\n   display: flex;\n   flex-direction: column;\n"]))),q=T.ZP.ul(c||(c=(0,O.Z)(["\n   display: flex;\n   flex-direction: column;\n   gap: 5px;\n\n   &:not(:first-child) {\n      margin-top: 20px;\n   }\n"]))),Y=T.ZP.li(u||(u=(0,O.Z)(["\n   font-size: 20px;\n   font-weight: 500;\n   color: ",";\n\n   span {\n      font-weight: 600;\n      color: ",";\n   }\n"])),(function(n){return n.theme.colors.$gray}),(function(n){return n.theme.colors.$black})),H=T.ZP.ul(d||(d=(0,O.Z)(["\n   padding-left: 30px;\n   display: flex;\n   flex-direction: column;\n"]))),K=T.ZP.li(p||(p=(0,O.Z)(["\n   font-size: 18px;\n   color: ",";\n\n   span {\n      color: ",";\n   }\n"])),(function(n){return n.theme.colors.$orange}),(function(n){return n.theme.colors.$black})),Q=T.ZP.form(x||(x=(0,O.Z)(["\n   display: flex;\n   flex-direction: column;\n"]))),W=T.ZP.p(f||(f=(0,O.Z)(["\n   margin-bottom: 5px;\n   color: ",";\n"])),(function(n){return n.theme.colors.$red})),X=(0,T.ZP)(q)(h||(h=(0,O.Z)(["\n   &:not(:first-child) {\n      margin-top: 0;\n   }\n"]))),nn=(0,T.ZP)(Y)(m||(m=(0,O.Z)(["\n   display: flex;\n   flex-direction: column;\n\n   span {\n      flex: 0 0 auto;\n      margin-right: 5px;\n   }\n\n   input {\n      width: 100%;\n      background-color: transparent;\n      font-size: 20px;\n      font-weight: 500;\n      color: ",'\n   }\n\n   input[type="checkbox"] {\n      width: auto;\n   }\n'])),(function(n){return n.theme.colors.$gray})),en=(0,T.ZP)(H)(b||(b=(0,O.Z)(["\n\n"]))),tn=(0,T.ZP)(nn)(j||(j=(0,O.Z)(["\n   font-size: 18px;\n\n   span {\n      font-weight: 500;\n   }\n\n   input {\n      font-size: 18px;\n      color: ","\n   }\n"])),(function(n){return n.theme.colors.$orange})),rn=T.ZP.p(g||(g=(0,O.Z)(["\n   font-size: 16px;\n   color: ","\n"])),(function(n){return n.theme.colors.$red})),on=function(n){var e=n.profile,t=n.isOwner,r=n.handleEditBtnClick,o=e.fullName,s=e.aboutMe,i=e.lookingForAJob,a=e.lookingForAJobDescription,l=e.contacts;return(0,L.jsxs)(_,{children:[t&&(0,L.jsx)(E.zx,{alignSelf:"flex-start",onClick:r,children:"Edit profile"}),(0,L.jsxs)(q,{children:[(0,L.jsxs)(Y,{children:[(0,L.jsx)("span",{children:"Full name:"})," ",o]}),(0,L.jsxs)(Y,{children:[(0,L.jsx)("span",{children:"About me:"})," ",s]}),(0,L.jsxs)(Y,{children:[(0,L.jsx)("span",{children:"Looking for a job:"})," ",i?"Yes":"No"]}),(0,L.jsxs)(Y,{children:[(0,L.jsx)("span",{children:"Looking for a job description:"})," ",a]}),(0,L.jsx)(Y,{children:(0,L.jsx)("span",{children:"Contacts:"})}),(0,L.jsx)(H,{children:Object.keys(l).map((function(n){return(0,L.jsxs)(K,{children:[(0,L.jsxs)("span",{children:[n,":"]})," ",l[n]]},n)}))})]})]})},sn=t(5705),an=function(n){var e={};return n.fullName.length>50&&(e.fullName="Must be 50 characters or less"),n.aboutMe.length>100&&(e.aboutMe="Must be 100 characters or less"),n.lookingForAJobDescription.length>150&&(e.lookingForAJobDescription="Must be 150 characters or less"),Object.keys(n.contacts).map((function(t){n.contacts[t].length>60&&(e.contacts||(e.contacts={}),e.contacts[t]="Must be 60 characters or less")})),e},ln=S.memo((function(n){var e=n.profile,t=n.handleSaveBtnClick,r=(0,S.useState)(!1),o=(0,R.Z)(r,2),s=o[0],i=o[1],a=(0,sn.TA)({initialValues:{fullName:e.fullName,aboutMe:e.aboutMe,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription,contacts:e.contacts},validate:an,onSubmit:function(){var n=(0,I.Z)((0,U.Z)().mark((function n(e,r){var o;return(0,U.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=r.setStatus,i(!0),n.next=4,t(e,o);case 4:i(!1);case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()});return(0,L.jsxs)(Q,{onSubmit:a.handleSubmit,children:[(0,L.jsx)(E.zx,{disabled:s,type:"submit",alignSelf:"flex-start",mb:"20px",children:"Save profile"}),a.status&&(0,L.jsx)(W,{children:a.status}),(0,L.jsxs)(X,{children:[(0,L.jsxs)(nn,{children:[a.errors.fullName&&(0,L.jsx)(rn,{children:a.errors.fullName}),(0,L.jsxs)(E.Ej,{children:[(0,L.jsx)("span",{children:"Full name:"}),(0,L.jsx)("input",{type:"text",name:"fullName",value:a.values.fullName,onChange:a.handleChange})]})]}),(0,L.jsxs)(nn,{children:[a.errors.aboutMe&&(0,L.jsx)(rn,{children:a.errors.aboutMe}),(0,L.jsxs)(E.Ej,{children:[(0,L.jsx)("span",{children:"About me:"}),(0,L.jsx)("input",{type:"text",name:"aboutMe",value:a.values.aboutMe,onChange:a.handleChange})]})]}),(0,L.jsx)(nn,{children:(0,L.jsxs)(E.Ej,{children:[(0,L.jsx)("span",{children:"Looking for a job:"}),(0,L.jsx)("input",{type:"checkbox",name:"lookingForAJob",checked:a.values.lookingForAJob,onChange:a.handleChange})]})}),(0,L.jsxs)(nn,{children:[a.errors.lookingForAJobDescription&&(0,L.jsx)(rn,{children:a.errors.lookingForAJobDescription}),(0,L.jsxs)(E.Ej,{children:[(0,L.jsx)("span",{children:"Looking for a job description:"}),(0,L.jsx)("input",{type:"text",name:"lookingForAJobDescription",value:a.values.lookingForAJobDescription,onChange:a.handleChange})]})]}),(0,L.jsx)(nn,{children:(0,L.jsx)("span",{children:"Contacts:"})}),(0,L.jsx)(en,{children:Object.keys(a.values.contacts).map((function(n){return(0,L.jsxs)(tn,{children:[a.errors.contacts&&a.errors.contacts[n]&&(0,L.jsx)(rn,{children:a.errors.contacts[n]}),(0,L.jsxs)(E.Ej,{children:[(0,L.jsxs)("span",{children:[n,":"]}),(0,L.jsx)("input",{type:"text",name:"contacts.".concat(n),value:a.values.contacts[n],onChange:a.handleChange})]})]},n)}))})]})]})})),cn=ln,un=S.memo((function(n){var e=n.profile,t=n.isOwner,r=(0,S.useState)(!1),o=(0,R.Z)(r,2),s=o[0],i=o[1],a=(0,$.T)(),l=(0,S.useCallback)(function(){var n=(0,I.Z)((0,U.Z)().mark((function n(e,t){return(0,U.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a((0,B.ck)(e,t));case 3:i(!1),n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e,t){return n.apply(this,arguments)}}(),[]);return(0,L.jsx)(V,{children:s?(0,L.jsx)(cn,{profile:e,handleSaveBtnClick:l}):(0,L.jsx)(on,{profile:e,isOwner:t,handleEditBtnClick:function(){i(!0)}})})})),dn=un,pn=T.ZP.div(Z||(Z=(0,O.Z)(["\n   &:not(:last-child) {\n      margin-bottom: 40px;\n   }\n"]))),xn=T.ZP.div(v||(v=(0,O.Z)(["\n   display: flex;\n   align-items: center;\n"]))),fn=(0,T.ZP)(E.zx)(k||(k=(0,O.Z)(["\n   min-width: 56.88px;\n   padding: 5px 10px;\n   font-size: 16px;\n   margin-right: 10px;\n"]))),hn=T.ZP.p(y||(y=(0,O.Z)(["\n   border: 1px solid transparent;\n   border-left: none;\n   font-size: 22px;\n"]))),mn=T.ZP.form(w||(w=(0,O.Z)(["\n   display: flex;\n   flex-direction: column;\n"]))),bn=T.ZP.p(C||(C=(0,O.Z)(["\n   font-size: 16px;\n   color: ",";\n"])),(function(n){return n.theme.colors.$red})),jn=T.ZP.input(P||(P=(0,O.Z)(["\n   flex: 1 1 100%;\n   max-width: 500px;\n   min-height: 35px;\n   border-bottom: 1px solid ",";\n   background-color: transparent;\n   font-size: 22px;\n   font-weight: 500;\n   color: inherit;\n"])),(function(n){return n.theme.colors.$lightGray})),gn=function(n){var e={};return n.statusText.length>100&&(e.statusText="Must be 100 characters or less"),e},Zn=S.memo((function(n){var e=n.status,t=n.handleSaveBtnClick,r=(0,S.useState)(!1),o=(0,R.Z)(r,2),s=o[0],i=o[1],a=(0,sn.TA)({initialValues:{statusText:e},validate:gn,onSubmit:function(){var n=(0,I.Z)((0,U.Z)().mark((function n(e){var r;return(0,U.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.statusText,i(!0),n.next=4,t(r);case 4:i(!1);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()});return(0,L.jsxs)(mn,{onSubmit:a.handleSubmit,children:[a.errors.statusText&&(0,L.jsx)(bn,{children:a.errors.statusText}),(0,L.jsxs)(E.Ej,{children:[(0,L.jsx)(fn,{disabled:s,type:"submit",children:"Save"}),(0,L.jsx)(jn,{type:"text",name:"statusText",value:a.values.statusText,onChange:a.handleChange})]})]})})),vn=Zn,kn=S.memo((function(n){var e=n.status,t=n.isOwner,r=(0,S.useState)(!1),o=(0,R.Z)(r,2),s=o[0],i=o[1],a=(0,$.T)(),l=(0,S.useCallback)(function(){var n=(0,I.Z)((0,U.Z)().mark((function n(t){return(0,U.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e===t){n.next=4;break}return n.next=4,a((0,B.Nf)(t));case 4:i(!1),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),alert(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),[e]);return(0,L.jsx)(pn,{children:s?(0,L.jsx)(vn,{status:e,handleSaveBtnClick:l}):(0,L.jsxs)(xn,{children:[t&&(0,L.jsx)(fn,{onClick:function(){i(!0)},children:"Edit"}),(0,L.jsx)(hn,{children:e||"I don't have a status"})]})})})),yn=kn,wn=S.memo((function(n){var e=n.profile,t=n.status,r=n.isOwner,o=e.photos.large;return(0,L.jsxs)(z,{children:[(0,L.jsx)(G,{photo:o,isOwner:r}),(0,L.jsx)(yn,{status:t,isOwner:r}),(0,L.jsx)(dn,{profile:e,isOwner:r})]})})),Cn=t(7689),Pn=t(8285),Sn=t(6554),An=t(9941),Fn=function(n){return n.profile.isLoading},On=function(n){return n.profile.profile},Tn=function(n){return n.profile.status},zn=function(n){return n.profile.error},En=t(2424),Jn=t(8112),Mn=function(){var n=(0,$.C)(Pn.d4),e=(0,$.C)(Fn),t=(0,$.C)(On),r=(0,$.C)(Tn),o=(0,$.C)(Pn.RN),s=(0,$.C)(Pn.A5),i=(0,$.C)(zn),a=Number((0,Cn.UO)().id),l=a?t:o,c=a?r:s,u=!a;console.log(c);var d=(0,$.T)();return(0,S.useEffect)((function(){var n;a&&d((n=a,function(){var e=(0,I.Z)((0,U.Z)().mark((function e(t){var r,o;return(0,U.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Sn.d.fetchProfileDataStarted()),e.prev=1,e.next=4,An.Z.fetchProfile(n);case 4:return r=e.sent,e.next=7,An.Z.fetchStatus(n);case 7:o=e.sent,t(Sn.d.fetchProfileDataSuccess({profile:r,status:o})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),t(Sn.d.fetchProfileDataFail(e.t0.message)),alert(e.t0.message+" Please, reload page");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}()))}),[]),!l||e?(0,L.jsx)(F.Z,{}):i?(0,L.jsx)(Jn.Z,{error:i,onPage:!0}):a===n?(0,L.jsx)(Cn.Fg,{to:En.n.PROFILE}):(0,L.jsx)(A.T,{children:(0,L.jsx)(A.x,{children:(0,L.jsx)(wn,{profile:l,status:c,isOwner:u})})})}},4615:function(n,e,t){n.exports=t.p+"static/media/default-user-photo.df06d9f651d45b9de774.jpg"}}]);
//# sourceMappingURL=239.b1cafde7.chunk.js.map